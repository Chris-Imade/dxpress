<!-- Dashboard Overview -->
<div class="dashboard-grid">
    <div class="dashboard-card">
        <div class="card-header">
            <div class="card-icon">
                <i class="fas fa-box"></i>
            </div>
            <div>
                <div class="card-title">Total Shipments</div>
                <div class="card-subtitle">This month</div>
            </div>
        </div>
        <div class="card-value">247</div>
        <div class="card-change positive">
            <i class="fas fa-arrow-up"></i> +12% from last month
        </div>
    </div>

    <div class="dashboard-card">
        <div class="card-header">
            <div class="card-icon">
                <i class="fas fa-truck"></i>
            </div>
            <div>
                <div class="card-title">In Transit</div>
                <div class="card-subtitle">Active shipments</div>
            </div>
        </div>
        <div class="card-value">42</div>
        <div class="card-change positive">
            <i class="fas fa-arrow-up"></i> 8 new today
        </div>
    </div>

    <div class="dashboard-card">
        <div class="card-header">
            <div class="card-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div>
                <div class="card-title">Delivered</div>
                <div class="card-subtitle">This week</div>
            </div>
        </div>
        <div class="card-value">189</div>
        <div class="card-change positive">
            <i class="fas fa-arrow-up"></i> 98.5% success rate
        </div>
    </div>

    <!-- <div class="dashboard-card">
        <div class="card-header">
            <div class="card-icon">
                <i class="fas fa-dollar-sign"></i>
            </div>
            <div>
                <div class="card-title">Revenue</div>
                <div class="card-subtitle">This month</div>
            </div>
        </div>
        <div class="card-value">$12,847</div>
        <div class="card-change positive">
            <i class="fas fa-arrow-up"></i> +18% from last month
        </div>
    </div> -->
</div>

<!-- Quick Actions -->
<div class="dashboard-grid">
    <div class="dashboard-card">
        <div class="card-header">
            <div class="card-icon">
                <i class="fas fa-plus-circle"></i>
            </div>
            <div>
                <div class="card-title">Quick Actions</div>
                <div class="card-subtitle">Common tasks</div>
            </div>
        </div>
        <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 16px;">
            <a href="/dashboard/create-shipment" class="btn btn-primary">
                <i class="fas fa-plus"></i>
                Create New Shipment
            </a>
            <a href="/dashboard/tracking" class="btn btn-secondary">
                <i class="fas fa-search"></i>
                Track Package
            </a>
            <a href="/dashboard/rates" class="btn btn-secondary">
                <i class="fas fa-calculator"></i>
                Get Shipping Rates
            </a>
        </div>
    </div>

    <div class="dashboard-card">
        <div class="card-header">
            <div class="card-icon">
                <i class="fas fa-clock"></i>
            </div>
            <div>
                <div class="card-title">Recent Activity</div>
                <div class="card-subtitle">Last 24 hours</div>
            </div>
        </div>
        <div style="margin-top: 16px;">
            <div style="display: flex; align-items: center; gap: 12px; padding: 12px 0; border-bottom: 1px solid #e5e7eb;">
                <div style="width: 8px; height: 8px; background: #10b981; border-radius: 50%;"></div>
                <div style="flex: 1;">
                    <div style="font-weight: 600; font-size: 14px;">Package DX-2024-001 delivered</div>
                    <div style="font-size: 12px; color: #6b7280;">2 hours ago</div>
                </div>
            </div>
            <div style="display: flex; align-items: center; gap: 12px; padding: 12px 0; border-bottom: 1px solid #e5e7eb;">
                <div style="width: 8px; height: 8px; background: #3b82f6; border-radius: 50%;"></div>
                <div style="flex: 1;">
                    <div style="font-weight: 600; font-size: 14px;">New shipment created</div>
                    <div style="font-size: 12px; color: #6b7280;">4 hours ago</div>
                </div>
            </div>
            <div style="display: flex; align-items: center; gap: 12px; padding: 12px 0;">
                <div style="width: 8px; height: 8px; background: #f59e0b; border-radius: 50%;"></div>
                <div style="flex: 1;">
                    <div style="font-weight: 600; font-size: 14px;">Payment received</div>
                    <div style="font-size: 12px; color: #6b7280;">6 hours ago</div>
                </div>
            </div>
        </div>
    </div>

    <div class="dashboard-card">
        <div class="card-header">
            <div class="card-icon">
                <i class="fas fa-map-marked-alt"></i>
            </div>
            <div>
                <div class="card-title">Live Tracking</div>
                <div class="card-subtitle">Real-time locations</div>
            </div>
        </div>
        <div style="margin-top: 16px;">
            <div id="mini-map" style="height: 200px; border-radius: 8px; background: #f3f4f6;"></div>
            <div style="margin-top: 12px; text-align: center;">
                <a href="/dashboard/gps-tracking" class="btn btn-secondary" style="width: 100%;">
                    <i class="fas fa-expand"></i>
                    View Full Map
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Recent Shipments Table -->
<div class="dashboard-card" style="margin-top: 24px;">
    <div class="card-header">
        <div class="card-icon">
            <i class="fas fa-list"></i>
        </div>
        <div>
            <div class="card-title">Recent Shipments</div>
            <div class="card-subtitle">Last 10 shipments</div>
        </div>
    </div>
    <div style="overflow-x: auto; margin-top: 16px;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="border-bottom: 2px solid #e5e7eb;">
                    <th style="padding: 12px; text-align: left; font-weight: 600; color: #374151;">Tracking ID</th>
                    <th style="padding: 12px; text-align: left; font-weight: 600; color: #374151;">Recipient</th>
                    <th style="padding: 12px; text-align: left; font-weight: 600; color: #374151;">Destination</th>
                    <th style="padding: 12px; text-align: left; font-weight: 600; color: #374151;">Status</th>
                    <th style="padding: 12px; text-align: left; font-weight: 600; color: #374151;">Date</th>
                    <th style="padding: 12px; text-align: left; font-weight: 600; color: #374151;">Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr style="border-bottom: 1px solid #e5e7eb;">
                    <td style="padding: 12px; font-weight: 600; color: #032330;">DX-2024-001</td>
                    <td style="padding: 12px;">John Smith</td>
                    <td style="padding: 12px;">New York, NY</td>
                    <td style="padding: 12px;">
                        <span style="background: #dcfce7; color: #166534; padding: 4px 8px; border-radius: 6px; font-size: 12px; font-weight: 600;">Delivered</span>
                    </td>
                    <td style="padding: 12px; color: #6b7280;">Jan 15, 2024</td>
                    <td style="padding: 12px;">
                        <a href="/dashboard/tracking?id=DX-2024-001" style="color: #032330; text-decoration: none; font-weight: 600;">
                            <i class="fas fa-eye"></i> View
                        </a>
                    </td>
                </tr>
                <tr style="border-bottom: 1px solid #e5e7eb;">
                    <td style="padding: 12px; font-weight: 600; color: #032330;">DX-2024-002</td>
                    <td style="padding: 12px;">Sarah Johnson</td>
                    <td style="padding: 12px;">Los Angeles, CA</td>
                    <td style="padding: 12px;">
                        <span style="background: #dbeafe; color: #1d4ed8; padding: 4px 8px; border-radius: 6px; font-size: 12px; font-weight: 600;">In Transit</span>
                    </td>
                    <td style="padding: 12px; color: #6b7280;">Jan 14, 2024</td>
                    <td style="padding: 12px;">
                        <a href="/dashboard/tracking?id=DX-2024-002" style="color: #032330; text-decoration: none; font-weight: 600;">
                            <i class="fas fa-eye"></i> View
                        </a>
                    </td>
                </tr>
                <tr style="border-bottom: 1px solid #e5e7eb;">
                    <td style="padding: 12px; font-weight: 600; color: #032330;">DX-2024-003</td>
                    <td style="padding: 12px;">Mike Davis</td>
                    <td style="padding: 12px;">Chicago, IL</td>
                    <td style="padding: 12px;">
                        <span style="background: #fef3c7; color: #92400e; padding: 4px 8px; border-radius: 6px; font-size: 12px; font-weight: 600;">Processing</span>
                    </td>
                    <td style="padding: 12px; color: #6b7280;">Jan 13, 2024</td>
                    <td style="padding: 12px;">
                        <a href="/dashboard/tracking?id=DX-2024-003" style="color: #032330; text-decoration: none; font-weight: 600;">
                            <i class="fas fa-eye"></i> View
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div style="margin-top: 16px; text-align: center;">
        <a href="/dashboard/orders" class="btn btn-secondary">
            <i class="fas fa-list"></i>
            View All Shipments
        </a>
    </div>
</div>

<script>
    // Initialize mini map
    document.addEventListener('DOMContentLoaded', function() {
        const miniMap = L.map('mini-map', {
            zoomControl: false,
            scrollWheelZoom: false,
            doubleClickZoom: false,
            boxZoom: false,
            keyboard: false,
            dragging: false,
            tap: false,
            touchZoom: false
        }).setView([40.7128, -74.0060], 10);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© OpenStreetMap contributors'
        }).addTo(miniMap);

        // Add sample markers
        const deliveryIcon = L.divIcon({
            html: '<i class="fas fa-truck" style="color: #032330; font-size: 16px;"></i>',
            iconSize: [20, 20],
            className: 'custom-div-icon'
        });

        L.marker([40.7589, -73.9851], {icon: deliveryIcon}).addTo(miniMap)
            .bindPopup('Package DX-2024-002<br>In Transit');
        
        L.marker([40.6892, -74.0445], {icon: deliveryIcon}).addTo(miniMap)
            .bindPopup('Package DX-2024-004<br>Out for Delivery');
    });
</script>
